# Red Team Log: Failed Exploit Iterations & Defense Detection

### Project Overview
This log documents the persistence required to bypass Juice Shop security and the technical walls encountered during the XSS-to-CSRF chain development.

### The "Trial and Error" Log

| Attempt # | Vector | Result | Technical Root Cause |
| :--- | :--- | :--- | :--- |
| **01** | External CSRF HTML Form | **500 Internal Server Error** | Server rejected the path; manual verification showed the API expects specific headers (Authorization/Bearer) not present in standard forms. |
| **02** | XSS + Fetch (Manual Token) | **401 Unauthorized** | Attempted to parse `document.cookie` manually via JS. Triggered a 401 because the server received a malformed or undefined Bearer token. |
| **03** | XSS + Simple Fetch | **403/Blocked (WAF)** | Triggered the application's internal "Illegal Activity" filter. The request was intercepted by the security middleware. |

### Evidence of Defensive Mechanisms

**1. The 500 Path Error**
When attempting a direct GET request without the proper frontend context, the Express server throws an "Unexpected path" error.
![proof](evidence/csrf1.png)

**2. The JSON Parsing Failure**
The 401 Unauthorized response was returned as an HTML error page, which caused the JavaScript `JSON.parse` to fail, proving the server rejected the authentication attempt.
![proof](<img width="1366" height="768" alt="csrf2" src="https://github.com/user-attachments/assets/eb82b319-3b2d-451b-9ff8-e111802490fc" />
)

**3. The Final Block**
The application successfully identified the attack pattern and blacklisted the source IP `172.17.0.1`.
![proof](<img width="1366" height="768" alt="csrf3" src="https://github.com/user-attachments/assets/5ca24957-5f14-42bc-8dd1-451f25bc0ed6" />
)
